### RT.CONF FORMATTING ###
# COMPILE Line ( Items separated by a | )
# Item 1: COMPILE - This tells rt.conf the following information is to be used in setting up a compile job
# Item 2: Compile name - The rt.sh will add _gnu or _intel to it. There must be no duplicate names for each compiler.
#                        If two compilations are identical except compiler, please use the same name for each.
# Item 3: Compiler to use in build (intel or gnu)
# Item 4: CMAKE Options - Provide all CMAKE options for the build
# Item 5: Machines to run on (- is used to ignore specified machines, + is used to only run on specified machines)
## -> EX: + hera orion gaea = compile will only run on hera orion and gaea machines
## -> EX: - wcoss2 acorn = compile will NOT be run on wcoss2 or acorn
# Item 6: [set as fv3]. Used to control the compile job only if FV3 was present, previously used to run a test w/o compiling code
#
# RUN Line ( Items separated by a | )
## NOTE: The build resulting from the COMPILE line above the RUN line will be used to run the test
# Item 1: RUN - This tells rt.conf the following information is to be used in setting up a model run
# Item 2: Test name. (Which test in the tests/tests directory should be sourced)
# Item 3: Machines to run on (- is used to ignore specified machines, + is used to only run on specified machines).
## reference example above
# Item 4: Controls whether the run creates its own baseline or it uses the baseline from a different (control) test.
# Item 5: Test name to compare baselines with if not itself.

### Intel Tests ###
### S2S tests ###

### ATM tests ###
COMPILE | atm_dyn32 | intel | -DAPP=ATM -DCCPP_SUITES=FV3_GFS_v16,FV3_GFS_v16_flake,FV3_GFS_v17_p8,FV3_GFS_v17_p8_rrtmgp,FV3_GFS_v15_thompson_mynn_lam3km,FV3_WoFS_v0,FV3_GFS_v17_p8_mynn -D32BIT=ON | | fv3 |
RUN | control_flake                                     |                            | baseline |
RUN | control_CubedSphereGrid                           |                            | baseline |
RUN | control_CubedSphereGrid_parallel                  | - noaacloud                | baseline |
RUN | control_latlon                                    |                            | baseline |
RUN | control_wrtGauss_netcdf_parallel                  |                            | baseline |
RUN | control_c48                                       |                            | baseline |
RUN | control_c192                                      | - noaacloud                | baseline |
RUN | control_c384                                      |                            | baseline |
RUN | control_c384gdas                                  | - noaacloud                | baseline |
RUN | control_stochy                                    |                            | baseline |
RUN | control_stochy_restart                            | - noaacloud                |          | control_stochy
RUN | control_lndp                                      |                            | baseline |
RUN | control_iovr4                                     |                            | baseline |
RUN | control_iovr5                                     |                            | baseline |
RUN | control_p8                                        | - noaacloud                | baseline |
RUN | control_restart_p8                                | - noaacloud                |          | control_p8
RUN | control_qr_p8                                     | - noaacloud                |          |
RUN | control_restart_qr_p8                             | - noaacloud                |          | control_qr_p8
RUN | control_decomp_p8                                 | - noaacloud                |          |
RUN | control_2threads_p8                               | - noaacloud                |          |
RUN | control_p8_lndp                                   |                            | baseline |
RUN | control_p8_rrtmgp                                 | - noaacloud                | baseline |
RUN | control_p8_mynn                                   | - noaacloud                | baseline |
RUN | merra2_thompson                                   | - noaacloud                | baseline |
RUN | regional_control                                  |                            | baseline |
RUN | regional_restart                                  | - noaacloud                |          | regional_control
RUN | regional_control_qr                               | - noaacloud                |          |
RUN | regional_restart_qr                               | - noaacloud                |          | regional_control_qr
RUN | regional_decomp                                   | - noaacloud                |          |
RUN | regional_2threads                                 | - noaacloud                |          |
RUN | regional_noquilt                                  | - jet s4                   | baseline |
RUN | regional_netcdf_parallel                          | - acorn                    | baseline |
RUN | regional_2dwrtdecomp                              |                            |          |
RUN | regional_wofs                                     | - jet s4                   | baseline |

COMPILE | ifi | intel | -DAPP=ATM -DCCPP_SUITES=FV3_GFS_v15_thompson_mynn_lam3km -D32BIT=ON -DREQUIRE_IFI=ON | + acorn | fv3 |
RUN | regional_ifi_control                              | + acorn                    | baseline |
RUN | regional_ifi_decomp                               | + acorn                    |          |
RUN | regional_ifi_2threads                             | + acorn                    |          |

COMPILE | rrfs | intel | -DAPP=ATM -DCCPP_SUITES=FV3_RAP,FV3_RAP_sfcdiff,FV3_HRRR,FV3_RRFS_v1beta,FV3_RRFS_v1nssl -D32BIT=ON | | fv3 |
RUN | rap_control                                       |                            | baseline |
RUN | regional_spp_sppt_shum_skeb                       |                            | baseline |
RUN | rap_decomp                                        | - noaacloud                |          |
RUN | rap_2threads                                      | - noaacloud                |          |
RUN | rap_restart                                       | - noaacloud                |          | rap_control
RUN | rap_sfcdiff                                       | - noaacloud                | baseline |
RUN | rap_sfcdiff_decomp                                | - noaacloud                |          |
RUN | rap_sfcdiff_restart                               | - noaacloud                |          | rap_sfcdiff
RUN | hrrr_control                                      | - noaacloud                | baseline |
RUN | hrrr_control_qr                                   | - noaacloud                |          |
RUN | hrrr_control_decomp                               | - noaacloud                |          |
RUN | hrrr_control_2threads                             | - noaacloud                |          |
RUN | hrrr_control_restart                              | - noaacloud                |          | hrrr_control
RUN | hrrr_control_restart_qr                           | - noaacloud                |          | hrrr_control_qr
RUN | rrfs_v1beta                                       |                            | baseline |
RUN | rrfs_v1nssl                                       |                            | baseline |
RUN | rrfs_v1nssl_nohailnoccn                           |                            | baseline |

### DEBUG ATM tests ###
COMPILE | atm_debug_dyn32 | intel | -DAPP=ATM -DDEBUG=ON -D32BIT=ON -DCCPP_SUITES=FV3_HRRR,FV3_GFS_v16,FV3_GFS_v16_csawmg,FV3_GFS_v16_ras,FV3_GFS_v17_p8,FV3_GFS_v15_thompson_mynn_lam3km,FV3_RAP,FV3_RAP_unified_ugwp,FV3_RAP_cires_ugwp,FV3_RAP_flake,FV3_RAP_clm_lake,FV3_RAP_noah,FV3_RAP_sfcdiff,FV3_RAP_noah_sfcdiff_cires_ugwp,FV3_RRFS_v1beta,FV3_HRRR_c3,FV3_HRRR_gf | - noaacloud  | fv3 |
RUN | control_CubedSphereGrid_debug                     | - noaacloud                  | baseline |
RUN | control_wrtGauss_netcdf_parallel_debug            | - noaacloud                  | baseline |
RUN | control_stochy_debug                              | - noaacloud                  | baseline |
RUN | control_lndp_debug                                | - noaacloud                  | baseline |
RUN | control_csawmg_debug                              | - noaacloud                  | baseline |
RUN | control_csawmgt_debug                             | - noaacloud                  | baseline |
RUN | control_ras_debug                                 | - noaacloud                  | baseline |
RUN | control_diag_debug                                | - noaacloud                  | baseline |
RUN | control_debug_p8                                  | - noaacloud                  | baseline |
RUN | regional_debug                                    | - noaacloud                  | baseline |
RUN | rap_control_debug                                 | - noaacloud                  | baseline |
RUN | hrrr_control_debug                                | - noaacloud                  | baseline |
RUN | hrrr_gf_debug                                     | - noaacloud                  | baseline |
RUN | hrrr_c3_debug                                     | - noaacloud                  | baseline |
RUN | rap_unified_drag_suite_debug                      | - noaacloud                  |          |
RUN | rap_diag_debug                                    | - noaacloud                  | baseline |
RUN | rap_cires_ugwp_debug                              | - noaacloud                  | baseline |
RUN | rap_unified_ugwp_debug                            | - noaacloud                  |          |
RUN | rap_lndp_debug                                    | - noaacloud                  | baseline |
RUN | rap_progcld_thompson_debug                        | - noaacloud                  | baseline |
RUN | rap_noah_debug                                    | - noaacloud                  | baseline |
RUN | rap_sfcdiff_debug                                 | - noaacloud                  | baseline |
RUN | rap_noah_sfcdiff_cires_ugwp_debug                 | - noaacloud                  | baseline |
RUN | rrfs_v1beta_debug                                 | - noaacloud                  | baseline |
RUN | rap_clm_lake_debug                                | - noaacloud                  | baseline |
RUN | rap_flake_debug                                   | - noaacloud                  | baseline |

### 32-bit physics tests ###
COMPILE | rrfs_dyn32_phy32 | intel | -DAPP=ATM -DCCPP_SUITES=FV3_RAP,FV3_HRRR -D32BIT=ON -DCCPP_32BIT=ON |  - noaacloud  | fv3 |
RUN | regional_spp_sppt_shum_skeb_dyn32_phy32           | - noaacloud                  | baseline |
RUN | rap_control_dyn32_phy32                           | - noaacloud                  | baseline |
RUN | hrrr_control_dyn32_phy32                          | - noaacloud                  | baseline |
RUN | hrrr_control_qr_dyn32_phy32                       | - noaacloud                  |          |
RUN | rap_2threads_dyn32_phy32                          | - noaacloud                  |          |
RUN | hrrr_control_2threads_dyn32_phy32                 | - noaacloud                  |          |
RUN | hrrr_control_decomp_dyn32_phy32                   | - noaacloud                  |          |
RUN | rap_restart_dyn32_phy32                           | - noaacloud                  |          | rap_control_dyn32_phy32
RUN | hrrr_control_restart_dyn32_phy32                  | - noaacloud                  |          | hrrr_control_dyn32_phy32
RUN | hrrr_control_restart_qr_dyn32_phy32               | - noaacloud                  |          | hrrr_control_qr_dyn32_phy32

COMPILE | rrfs_dyn32_phy32_faster | intel | -DAPP=ATM -DFASTER=ON -DCCPP_SUITES=FV3_HRRR -D32BIT=ON -DCCPP_32BIT=ON | - noaacloud  | fv3 |
RUN | conus13km_control             | - noaacloud                                      | baseline |
RUN | conus13km_2threads            | - noaacloud                                      |          | conus13km_control
RUN | conus13km_restart_mismatch    | - noaacloud                                      | baseline | conus13km_control

# Expected to fail:
# RUN | conus13km_restart           | - noaacloud                                      |          | conus13km_control
# RUN | conus13km_decomp            | - noaacloud                                      |          | conus13km_control

COMPILE | rrfs_dyn64_phy32 | intel | -DAPP=ATM -DCCPP_SUITES=FV3_RAP,FV3_HRRR -DCCPP_32BIT=ON | - noaacloud  | fv3 |
RUN | rap_control_dyn64_phy32                           |  - noaacloud                 | baseline |

COMPILE | rrfs_dyn32_phy32_debug | intel | -DAPP=ATM -DCCPP_SUITES=FV3_RAP,FV3_HRRR,FV3_HRRR_gf -D32BIT=ON -DCCPP_32BIT=ON -DDEBUG=ON | - noaacloud  | fv3 |
RUN | rap_control_debug_dyn32_phy32                     |  - noaacloud                 | baseline |
RUN | hrrr_control_debug_dyn32_phy32                    |  - noaacloud                 | baseline |
RUN | conus13km_debug                                   |  - noaacloud                 | baseline |
RUN | conus13km_debug_qr                                |  - noaacloud cheyenne        |          |
RUN | conus13km_debug_2threads                          |  - noaacloud                 |          |
RUN | conus13km_radar_tten_debug                        |  - noaacloud                 | baseline |

# Expected to fail:
# RUN | conus13km_debug_decomp                          |  - noaacloud                 |          |

COMPILE | rrfs_dyn64_phy32_debug | intel | -DAPP=ATM -DCCPP_SUITES=FV3_RAP,FV3_HRRR -DCCPP_32BIT=ON -DDEBUG=ON | - noaacloud  | fv3 |
RUN | rap_control_dyn64_phy32_debug                     |  - noaacloud                 | baseline |


### GNU TESTS ###
### CCPP PROD tests ###

COMPILE | rrfs | gnu | -DAPP=ATM -DCCPP_SUITES=FV3_RAP,FV3_RAP_sfcdiff,FV3_HRRR,FV3_RRFS_v1beta -D32BIT=ON | + hera cheyenne hercules | fv3 |
RUN | rap_control                                       | + hera cheyenne hercules            | baseline |
RUN | rap_decomp                                        | + hera cheyenne hercules            |          |
RUN | rap_2threads                                      | + hera cheyenne hercules            |          |
RUN | rap_restart                                       | + hera cheyenne hercules            |          | rap_control
RUN | rap_sfcdiff                                       | + hera cheyenne hercules            | baseline |
RUN | rap_sfcdiff_decomp                                | + hera cheyenne hercules            |          |
RUN | rap_sfcdiff_restart                               | + hera cheyenne hercules            |          | rap_sfcdiff
RUN | hrrr_control                                      | + hera cheyenne hercules            | baseline |
RUN | hrrr_control_qr                                   | + hera cheyenne hercules            |          |
RUN | hrrr_control_2threads                             | + hera cheyenne hercules            |          |
RUN | hrrr_control_decomp                               | + hera cheyenne hercules            |          |
RUN | hrrr_control_restart                              | + hera cheyenne hercules            |          | hrrr_control
RUN | hrrr_control_restart_qr                           | + hera cheyenne hercules            |          | hrrr_control_qr
RUN | rrfs_v1beta                                       | + hera cheyenne hercules            | baseline |

### CCPP DEBUG tests ###
# Exercise compilation without specifying suites (i.e. compile all suites) in DEBUG mode (faster than in PROD mode)
COMPILE | atm_dyn32_debug | gnu | -DAPP=ATM -D32BIT=ON -DDEBUG=ON | + hera cheyenne hercules | fv3 |
RUN | control_diag_debug                                | + hera cheyenne hercules            | baseline |
RUN | regional_debug                                    | + hera cheyenne hercules            | baseline |
RUN | rap_control_debug                                 | + hera cheyenne hercules            | baseline |
RUN | hrrr_control_debug                                | + hera cheyenne hercules            | baseline |
RUN | hrrr_gf_debug                                     | + hera cheyenne hercules            | baseline |
RUN | hrrr_c3_debug                                     | + hera cheyenne hercules            | baseline |
RUN | rap_diag_debug                                    | + hera cheyenne hercules            | baseline |
RUN | rap_noah_sfcdiff_cires_ugwp_debug                 | + hera cheyenne hercules            | baseline |
RUN | rap_progcld_thompson_debug                        | + hera cheyenne hercules            | baseline |
RUN | rrfs_v1beta_debug                                 | + hera cheyenne hercules            | baseline |
RUN | control_ras_debug                                 | + hera cheyenne hercules            | baseline |
RUN | control_stochy_debug                              | + hera cheyenne hercules            | baseline |
RUN | control_debug_p8                                  | + hera cheyenne hercules            | baseline |
RUN | rap_flake_debug                                   | + hera cheyenne hercules            | baseline |
RUN | rap_clm_lake_debug                                | + hera cheyenne hercules            | baseline |



### 32-bit physics tests ###
COMPILE | rrfs_dyn32_phy32 | gnu | -DAPP=ATM -DCCPP_SUITES=FV3_RAP,FV3_HRRR -D32BIT=ON -DCCPP_32BIT=ON | + hera cheyenne hercules | fv3 |
RUN | rap_control_dyn32_phy32                           | + hera cheyenne hercules            | baseline |
RUN | hrrr_control_dyn32_phy32                          | + hera cheyenne hercules            | baseline |
RUN | hrrr_control_qr_dyn32_phy32                       | + hera cheyenne hercules            |          |
RUN | rap_2threads_dyn32_phy32                          | + hera cheyenne hercules            |          |
RUN | hrrr_control_2threads_dyn32_phy32                 | + hera cheyenne hercules            |          |
RUN | hrrr_control_decomp_dyn32_phy32                   | + hera cheyenne hercules            |          |
RUN | rap_restart_dyn32_phy32                           | + hera cheyenne hercules            |          | rap_control_dyn32_phy32
RUN | hrrr_control_restart_dyn32_phy32                  | + hera cheyenne hercules            |          | hrrr_control_dyn32_phy32
RUN | hrrr_control_restart_qr_dyn32_phy32               | + hera cheyenne hercules            |          | hrrr_control_qr_dyn32_phy32
RUN | conus13km_control                                 | + hera cheyenne hercules            | baseline |
RUN | conus13km_2threads                                | + hera cheyenne hercules            |          | conus13km_control
RUN | conus13km_restart_mismatch                        | + hera cheyenne hercules            | baseline | conus13km_control

# Expected to fail:
# RUN | conus13km_restart                               | + hera cheyenne hercules            |          | conus13km_control
# RUN | conus13km_decomp                                | + hera cheyenne hercules            |          | conus13km_control

COMPILE | atm_dyn64_phy32 | gnu | -DAPP=ATM -DCCPP_32BIT=ON | + hera cheyenne hercules | fv3 |
RUN | rap_control_dyn64_phy32                           | + hera cheyenne hercules            | baseline |

COMPILE | atm_dyn32_phy32_debug | gnu | -DAPP=ATM -D32BIT=ON -DCCPP_32BIT=ON -DDEBUG=ON | + hera cheyenne hercules | fv3 |
RUN | rap_control_debug_dyn32_phy32                     | + hera cheyenne hercules            | baseline |
RUN | hrrr_control_debug_dyn32_phy32                    | + hera cheyenne hercules            | baseline |
RUN | conus13km_debug                                   | + hera cheyenne hercules            | baseline |
RUN | conus13km_debug_qr                                | + hera          hercules            |          |
RUN | conus13km_debug_2threads                          | + hera cheyenne hercules            |          |
RUN | conus13km_radar_tten_debug                        | + hera cheyenne hercules            | baseline |

# Expected to fail:
# RUN | conus13km_debug_decomp       | + hera cheyenne hercules            |          |

COMPILE | atm_dyn64_phy32_debug | gnu | -DAPP=ATM -DCCPP_32BIT=ON -DDEBUG=ON | + hera cheyenne hercules | fv3 |
RUN | rap_control_dyn64_phy32_debug                     | + hera cheyenne hercules            | baseline |
