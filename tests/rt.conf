##############################################################################################################################################################################################
# PROD tests                                                                                                                                                                                 #
##############################################################################################################################################################################################

COMPILE | SUITES=FV3_GFS_2017                                                                                                     | standard |                                         | fv3 |

RUN     | fv3_ccpp_control                                                                                                        | standard |                                         | fv3 |
RUN     | fv3_ccpp_decomp                                                                                                         | standard |                                         |     |
RUN     | fv3_ccpp_2threads                                                                                                       | standard |                                         |     |
RUN     | fv3_ccpp_restart                                                                                                        | standard |                                         | fv3 |
RUN     | fv3_ccpp_read_inc                                                                                                       | standard |                                         | fv3 |
RUN     | fv3_ccpp_wrtGauss_netcdf_esmf                                                                                           | standard |                                         | fv3 |
RUN     | fv3_ccpp_wrtGauss_netcdf                                                                                                | standard |                                         | fv3 |
RUN     | fv3_ccpp_wrtGauss_netcdf_parallel                                                                                       | standard |                                         | fv3 |
RUN     | fv3_ccpp_wrtGlatlon_netcdf                                                                                              | standard |                                         | fv3 |
RUN     | fv3_ccpp_wrtGauss_nemsio                                                                                                | standard |                                         | fv3 |
RUN     | fv3_ccpp_wrtGauss_nemsio_c192                                                                                           | standard |                                         | fv3 |
RUN     | fv3_ccpp_stochy                                                                                                         | standard |                                         | fv3 |
RUN     | fv3_ccpp_ca                                                                                                             | standard |                                         | fv3 |
RUN     | fv3_ccpp_lndp                                                                                                           | standard |                                         | fv3 |
# temporarily disabled for gaea.intel (intel18): gives different results when creating baseline and verifying against it
RUN     | fv3_ccpp_iau                                                                                                            | standard |                                         | fv3 |
RUN     | fv3_ccpp_lheatstrg                                                                                                      | standard |                                         | fv3 |

# WW3 not working on Cheyenne in the past, need to check if it works now
COMPILE | SUITES=FV3_GFS_2017,FV3_GFS_2017_gfdlmp WW3=Y                                                                           | standard | + wcoss_dell_p3 hera.intel orion.intel  | fv3 |
RUN     | fv3_ccpp_gfdlmprad                                                                                                      | standard | + wcoss_dell_p3 hera.intel orion.intel  | fv3 |
RUN     | fv3_ccpp_gfdlmprad_atmwav                                                                                               | standard | + wcoss_dell_p3 hera.intel orion.intel  | fv3 |
RUN     | fv3_ccpp_wrtGauss_nemsio_c768                                                                                           | standard | +               hera.intel orion.intel  | fv3 |

COMPILE | SUITES=FV3_GFS_2017_fv3wam 32BIT=Y MULTI_GASES=Y                                                                        | standard |                                         | fv3 |
RUN     | fv3_ccpp_multigases                                                                                                     | standard |                                         | fv3 |

COMPILE | SUITES=FV3_GFS_2017,FV3_GFS_2017_stretched 32BIT=Y                                                                      | standard |                                         | fv3 |
RUN     | fv3_ccpp_control_32bit                                                                                                  | standard |                                         | fv3 |
RUN     | fv3_ccpp_stretched                                                                                                      | standard |                                         | fv3 |
RUN     | fv3_ccpp_stretched_nest                                                                                                 | standard |                                         | fv3 |

COMPILE | SUITES=FV3_GFS_v15_thompson_mynn 32BIT=Y                                                                                | standard |                                         | fv3 |
RUN     | fv3_ccpp_regional_control                                                                                               | standard |                                         | fv3 |
RUN     | fv3_ccpp_regional_restart                                                                                               | standard |                                         | fv3 | fv3_ccpp_regional_control
RUN     | fv3_ccpp_regional_quilt                                                                                                 | standard |                                         | fv3 |
RUN     | fv3_ccpp_regional_quilt_netcdf_parallel                                                                                 | standard |                                         | fv3 |
#RUN     | fv3_ccpp_regional_c768                                                                                                 | standard | wcoss_dell_p3                           | fv3 |
#RUN     | fv3_ccpp_regional_c768                                                                                                 | standard | hera.intel                              | fv3 |
#RUN     | fv3_ccpp_regional_c768                                                                                                 | standard | gaea.intel                              | fv3 |
#RUN     | fv3_ccpp_regional_c768                                                                                                 | standard | jet.intel                               | fv3 |
#RUN     | fv3_ccpp_regional_c768                                                                                                 | standard | orion.intel                             | fv3 |

COMPILE | SUITES=FV3_GFS_2017,FV3_GFS_2017_stretched 32BIT=Y DEBUG=Y                                                              | standard |                                         | fv3 |
RUN     | fv3_ccpp_control_debug                                                                                                  | standard |                                         | fv3 |
RUN     | fv3_ccpp_stretched_nest_debug                                                                                           | standard |                                         | fv3 |

COMPILE | SUITES=FV3_GFS_2017_gfdlmp,FV3_GFS_2017_gfdlmp_noahmp                                                                   | standard |                                         | fv3 |
RUN     | fv3_ccpp_gfdlmp                                                                                                         | standard |                                         | fv3 |
RUN     | fv3_ccpp_gfdlmprad_gwd                                                                                                  | standard |                                         | fv3 |
RUN     | fv3_ccpp_gfdlmprad_noahmp                                                                                               | standard |                                         | fv3 |

COMPILE | SUITES=FV3_GFS_2017_csawmgshoc,FV3_GFS_2017_csawmg,FV3_GFS_2017_satmedmf,FV3_GFS_2017_satmedmfq                         | standard |                                         | fv3 |
#RUN     | fv3_ccpp_csawmgshoc                                                                                                    | standard |                                         | fv3 |
#RUN     | fv3_ccpp_csawmg3shoc127                                                                                                | standard |                                         | fv3 |
RUN     | fv3_ccpp_csawmg                                                                                                         | standard |                                         | fv3 |
RUN     | fv3_ccpp_satmedmf                                                                                                       | standard |                                         | fv3 |
RUN     | fv3_ccpp_satmedmfq                                                                                                      | standard |                                         | fv3 |

COMPILE | SUITES=FV3_GFS_2017_gfdlmp,FV3_CPT_v0,FV3_GSD_v0,FV3_GFS_v15_thompson,FV3_RAP,FV3_HRRR,FV3_RRFS_v1beta 32BIT=Y          | standard |                                         | fv3 |
RUN     | fv3_ccpp_gfdlmp_32bit                                                                                                   | standard |                                         | fv3 |
RUN     | fv3_ccpp_gfdlmprad_32bit_post                                                                                           | standard |                                         | fv3 |
RUN     | fv3_ccpp_cpt                                                                                                            | standard |                                         | fv3 |
RUN     | fv3_ccpp_gsd                                                                                                            | standard |                                         | fv3 |
# These two tests crash with NaNs on jet.intel
RUN     | fv3_ccpp_rap                                                                                                            | standard | - jet.intel                             | fv3 |
RUN     | fv3_ccpp_hrrr                                                                                                           | standard | - jet.intel                             | fv3 |
RUN     | fv3_ccpp_thompson                                                                                                       | standard |                                         | fv3 |
RUN     | fv3_ccpp_thompson_no_aero                                                                                               | standard |                                         | fv3 |
# This test crashes with NaNs on jet.intel
RUN     | fv3_ccpp_rrfs_v1beta                                                                                                    | standard | - jet.intel                             | fv3 |

COMPILE | SUITES=FV3_GFS_v15p2,FV3_GFS_v16beta,FV3_GFS_v15p2_RRTMGP,FV3_GFS_v16beta_RRTMGP                                        | standard |                                         | fv3 |
RUN     | fv3_ccpp_gfs_v15p2                                                                                                      | standard |                                         | fv3 |
RUN     | fv3_ccpp_gfs_v16beta                                                                                                    | standard |                                         | fv3 |
RUN     | fv3_ccpp_gfs_v16beta_restart                                                                                            | standard |                                         |     | fv3_ccpp_gfs_v16beta
RUN     | fv3_ccpp_gfs_v16beta_stochy                                                                                             | standard |                                         | fv3 |
RUN     | fv3_ccpp_gfs_v15p2_RRTMGP                                                                                               | standard |                                         | fv3 |
RUN     | fv3_ccpp_gfs_v16beta_RRTMGP                                                                                             | standard |                                         | fv3 |

COMPILE | SUITES=FV3_GFS_v16_csawmg                                                                                               | standard |                                         | fv3 |
# fv3_ccpp_gfsv16_csawmg crashes with a "bus error" on cheyenne.intel, turn off both tests
RUN     | fv3_ccpp_gfsv16_csawmg                                                                                                  | standard | - cheyenne.intel                        | fv3 |
RUN     | fv3_ccpp_gfsv16_csawmgt                                                                                                 | standard | - cheyenne.intel                        | fv3 |

COMPILE | SUITES=FV3_GFS_2017_gfdlmp,FV3_GFS_2017_gfdlmp_noahmp,FV3_GFS_v16beta_flake                                             | standard |                                         | fv3 |
RUN     | fv3_ccpp_gocart_clm                                                                                                     | standard |                                         | fv3 |
RUN     | fv3_ccpp_gfs_v16beta_flake                                                                                              | standard |                                         | fv3 |

COMPILE | SUITES=HAFS_v0_hwrf_thompson,HAFS_v0_hwrf                                                                               | standard |                                         | fv3 |
RUN     | fv3_ccpp_HAFS_v0_hwrf_thompson                                                                                          | standard |                                         | fv3 |
#RUN     | fv3_ccpp_HAFS_v0_hwrf                                                                                                  | standard |                                         | fv3 |
RUN     | fv3_ccpp_esg_HAFS_v0_hwrf_thompson                                                                                      | standard |                                         | fv3 |

##############################################################################################################################################################################################
# DEBUG tests                                                                                                                                                                                #
##############################################################################################################################################################################################

# Exercise compilation without specifying suites (i.e. compile all suites) in DEBUG mode (faster than in PROD mode)
COMPILE | DEBUG=Y                                                                                                                 | standard |                                         | fv3 |
RUN     | fv3_ccpp_gfs_v15p2_debug                                                                                                | standard |                                         | fv3 |
RUN     | fv3_ccpp_gfs_v16beta_debug                                                                                              | standard |                                         | fv3 |
RUN     | fv3_ccpp_gfs_v15p2_RRTMGP_debug                                                                                         | standard |                                         | fv3 |
RUN     | fv3_ccpp_gfs_v16beta_RRTMGP_debug                                                                                       | standard |                                         | fv3 |

COMPILE | SUITES=FV3_GSD_v0,FV3_GFS_v15_thompson,FV3_RRFS_v1beta 32BIT=Y DEBUG=Y                                                  | standard |                                         | fv3 |
RUN     | fv3_ccpp_gsd_debug                                                                                                      | standard |                                         | fv3 |
RUN     | fv3_ccpp_gsd_diag3d_debug                                                                                               | standard |                                         | fv3 |
RUN     | fv3_ccpp_thompson_debug                                                                                                 | standard |                                         | fv3 |
RUN     | fv3_ccpp_thompson_no_aero_debug                                                                                         | standard |                                         | fv3 |
RUN     | fv3_ccpp_rrfs_v1beta_debug                                                                                              | standard |                                         | fv3 |

COMPILE | SUITES=HAFS_v0_hwrf_thompson,HAFS_v0_hwrf DEBUG=Y                                                                       | standard |                                         | fv3 |
RUN     | fv3_ccpp_HAFS_v0_hwrf_thompson_debug                                                                                    | standard |                                         | fv3 |
#RUN     | fv3_ccpp_HAFS_v0_hwrf_debug                                                                                            | standard |                                         | fv3 |
RUN     | fv3_ccpp_esg_HAFS_v0_hwrf_thompson_debug                                                                                | standard |                                         | fv3 |

##############################################################################################################################################################################################
# CPLD tests                                                                                                                                                                                 #
##############################################################################################################################################################################################

COMPILE | SUITES=FV3_GFS_2017_coupled,FV3_GFS_2017_satmedmf_coupled,FV3_GFS_v15p2_coupled S2S=Y                                   | standard | + hera.intel orion.intel wcoss_dell_p3  | fv3 |
#COMPILE | SUITES=FV3_GFS_2017_coupled,FV3_GFS_2017_satmedmf_coupled,FV3_GFS_v15p2_coupled S2S=Y                                  | standard | cheyenne.intel                          | fv3 |
RUN     | cpld_control                                                                                                            | standard | + hera.intel orion.intel wcoss_dell_p3  | fv3 |
# following two tests are not run on any platform
#RUN     | cpld_control_12h                                                                                                       | standard | hera.intel orion.intel wcoss_dell_p3    | fv3 |
#RUN     | cpld_restart                                                                                                           | standard | hera.intel orion.intel wcoss_dell_p3    |     | cpld_control_12h
RUN     | cpld_2threads                                                                                                           | standard | + hera.intel orion.intel wcoss_dell_p3  |     |
RUN     | cpld_decomp                                                                                                             | standard | + hera.intel orion.intel wcoss_dell_p3  |     |
RUN     | cpld_satmedmf                                                                                                           | standard | + hera.intel orion.intel wcoss_dell_p3  | fv3 |
RUN     | cpld_ca                                                                                                                 | standard | + hera.intel orion.intel wcoss_dell_p3  | fv3 |
#RUN     | cpld_control                                                                                                           | standard | cheyenne.intel                          | fv3 |
#RUN     | cpld_2threads                                                                                                          | standard | cheyenne.intel                          |     |
#RUN     | cpld_decomp                                                                                                            | standard | cheyenne.intel                          |     |
#RUN     | cpld_satmedmf                                                                                                          | standard | cheyenne.intel                          | fv3 |
#RUN     | cpld_ca                                                                                                                | standard | cheyenne.intel                          | fv3 |

# restart test at c96mx025
RUN     | cpld_control_mx025                                                                                                      | standard | + hera.intel orion.intel wcoss_dell_p3  | fv3 |
RUN     | cpld_control_mx025_12h                                                                                                  | standard | + hera.intel orion.intel wcoss_dell_p3  | fv3 |
RUN     | cpld_restart_mx025                                                                                                      | standard | + hera.intel orion.intel wcoss_dell_p3  |     | cpld_control_mx025_12h
#RUN     | cpld_control_mx025                                                                                                     | standard | cheyenne.intel                          | fv3 |
#RUN     | cpld_control_mx025_12h                                                                                                 | standard | cheyenne.intel                          | fv3 |
#RUN     | cpld_restart_mx025                                                                                                     | standard | cheyenne.intel                          |     | cpld_control_mx025_12h

RUN     | cpld_control_c192                                                                                                       | standard | + hera.intel orion.intel wcoss_dell_p3  | fv3 |
RUN     | cpld_control_c384                                                                                                       | standard | + hera.intel orion.intel wcoss_dell_p3  | fv3 |
RUN     | cpld_controlfrac_c384                                                                                                   | standard | + hera.intel orion.intel wcoss_dell_p3  | fv3 |
RUN     | cpld_bmark                                                                                                              | standard | + hera.intel orion.intel wcoss_dell_p3  | fv3 |
#RUN     | cpld_control_c192                                                                                                      | standard | cheyenne.intel                          | fv3 |
#RUN     | cpld_control_c384                                                                                                      | standard | cheyenne.intel                          | fv3 |
#RUN     | cpld_controlfrac_c384                                                                                                  | standard | cheyenne.intel                          | fv3 |
#RUN     | cpld_bmark                                                                                                             | standard | cheyenne.intel                          | fv3 |

COMPILE | SUITES=FV3_GFS_2017_coupled,FV3_GFS_2017_satmedmf_coupled,FV3_GFS_v15p2_coupled S2S=Y WW3=Y                             | standard | + hera.intel orion.intel wcoss_dell_p3  | fv3 |
#COMPILE | SUITES=FV3_GFS_2017_coupled,FV3_GFS_2017_satmedmf_coupled,FV3_GFS_v15p2_coupled S2S=Y WW3=Y                            | standard | cheyenne.intel                          | fv3 |
RUN     | cpld_bmark_wave                                                                                                         | standard | + hera.intel orion.intel wcoss_dell_p3  | fv3 |
#RUN     | cpld_bmark_wave                                                                                                        | standard | cheyenne.intel                          | fv3 |

COMPILE | DEBUG=Y SUITES=FV3_GFS_2017_coupled,FV3_GFS_2017_satmedmf_coupled,FV3_GFS_v15p2_coupled S2S=Y                           | standard | + hera.intel orion.intel wcoss_dell_p3  | fv3 |
#COMPILE | DEBUG=Y SUITES=FV3_GFS_2017_coupled,FV3_GFS_2017_satmedmf_coupled,FV3_GFS_v15p2_coupled S2S=Y                          | standard | cheyenne.intel                          | fv3 |
RUN     | cpld_debug                                                                                                              | standard | + hera.intel orion.intel wcoss_dell_p3  | fv3 |
#RUN     | cpld_debug                                                                                                             | standard | cheyenne.intel                          | fv3 |

##############################################################################################################################################################################################
# Data Atmosphere tests                                                                                                                                                                      #
##############################################################################################################################################################################################

COMPILE | DATM=Y S2S=Y                                                                                                            | standard | + hera.intel orion.intel wcoss_dell_p3  | fv3 |
#COMPILE | DATM=Y S2S=Y                                                                                                           | standard | cheyenne.intel                          | fv3 |
RUN     | datm_control_cfsr                                                                                                       | standard | + hera.intel orion.intel wcoss_dell_p3  | fv3 |
RUN     | datm_restart_cfsr                                                                                                       | standard | + hera.intel orion.intel wcoss_dell_p3  |     | datm_control_cfsr
RUN     | datm_control_gefs                                                                                                       | standard | + hera.intel orion.intel wcoss_dell_p3  | fv3 |
#RUN     | datm_control_cfsr                                                                                                      | standard | cheyenne.intel                          | fv3 |
#RUN     | datm_control_gefs                                                                                                      | standard | cheyenne.intel                          | fv3 |

RUN     | datm_bulk_cfsr                                                                                                          | standard | + hera.intel orion.intel wcoss_dell_p3  | fv3 |
RUN     | datm_bulk_gefs                                                                                                          | standard | + hera.intel orion.intel wcoss_dell_p3  | fv3 |
#RUN     | datm_bulk_cfsr                                                                                                         | standard | cheyenne.intel                          | fv3 |
#RUN     | datm_bulk_gefs                                                                                                         | standard | cheyenne.intel                          | fv3 |

RUN     | datm_mx025_cfsr                                                                                                         | standard | + hera.intel orion.intel wcoss_dell_p3  | fv3 |
RUN     | datm_mx025_gefs                                                                                                         | standard | + hera.intel orion.intel wcoss_dell_p3  | fv3 |
#RUN     | datm_mx025_cfsr                                                                                                        | standard | cheyenne.intel                          | fv3 |
#RUN     | datm_mx025_gefs                                                                                                        | standard | cheyenne.intel                          | fv3 |

COMPILE | DATM=Y S2S=Y DEBUG=Y                                                                                                    | standard | + hera.intel orion.intel wcoss_dell_p3  | fv3 |
RUN     | datm_debug_cfsr                                                                                                         | standard | + hera.intel orion.intel wcoss_dell_p3  | fv3 |
